<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cia402 Driver &mdash; ros2_canopen 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=efd85694" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to create a configuration package" href="how-to-create-a-configuration.html" />
    <link rel="prev" title="Proxy Driver" href="proxy-driver.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ros2_canopen
              <img src="../_static/ros2-canopen-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/operation.html">Setup CAN Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/examples.html">Running Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="operation.html">Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#bus-configuration-file">Bus Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#configuration-package-cmake">Configuration Package CMake</a></li>
<li class="toctree-l1"><a class="reference internal" href="master.html">Master Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxy-driver.html">Proxy Driver</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cia402 Driver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#services">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#publishers">Publishers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subscribers">Subscribers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bus-configuration-parameters">Bus Configuration Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how-to-create-a-configuration.html">How to create a configuration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-create-a-cia301-system.html">How to create a cia301 system with ros2_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-create-a-robot-system.html">How to create a robot system with ros2_control</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/design-objectives.html">Design Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/new-driver.html">Creating a new device driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/new-master.html">Creating a new master</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ros-industrial.github.io/ros2_canopen/api/">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software-tests/proxy-driver-test.html">Lifecycle Proxy Driver Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software-tests/proxy-driver-test.html#proxy-driver-test">Proxy Driver Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software-tests/ros2_control_system-test.html">ros2_control SystemInterface test</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application Demos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../application/prbt_robot.html">Pilz manipulator PRBT 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application/trinamic.html">Trinamic Stepper Motor control</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ros2_canopen</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Cia402 Driver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user-guide/cia402-driver.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cia402-driver">
<h1>Cia402 Driver<a class="headerlink" href="#cia402-driver" title="Link to this heading"></a></h1>
<p>The Cia402 Driver implements the CIA402 profile for motion controllers and enables setting
the drive status, operation mode and sending target values to the motion controller.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">CIA402 Drivers</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Package</p></th>
<th class="head"><p>Name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>lifecycle</p></td>
<td><p>canopen_402_driver</p></td>
<td><p>ros2_canopen::LifecycleCia402Driver</p></td>
</tr>
<tr class="row-odd"><td><p>simple</p></td>
<td><p>canopen_402_driver</p></td>
<td><p>ros2_canopen::Cia402Driver</p></td>
</tr>
</tbody>
</table>
<section id="services">
<h2>Services<a class="headerlink" href="#services" title="Link to this heading"></a></h2>
<table class="docutils align-left">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Services</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>~/nmt_reset_node</p></td>
<td><p>Trigger</p></td>
<td><p>Resets CANopen Device the Proxy Device Node manages.</p></td>
</tr>
<tr class="row-odd"><td><p>~/sdo_read</p></td>
<td><p>CORead</p></td>
<td><p>Reads an SDO object from the specified index, subindex and datatype of the remote device.</p></td>
</tr>
<tr class="row-even"><td><p>~/sdo_write</p></td>
<td><p>COWrite</p></td>
<td><p>Writes data to an SDO object on the specified index, subindex and datatype of the remote device.</p></td>
</tr>
<tr class="row-odd"><td><p>~/init</p></td>
<td><p>Trigger</p></td>
<td><p>Initialises motion controller including referencing</p></td>
</tr>
<tr class="row-even"><td><p>~/recover</p></td>
<td><p>Trigger</p></td>
<td><p>Recovers motion controller</p></td>
</tr>
<tr class="row-odd"><td><p>~/halt</p></td>
<td><p>Trigger</p></td>
<td><p>Stops motion controller</p></td>
</tr>
<tr class="row-even"><td><p>~/position_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to profiled position mode</p></td>
</tr>
<tr class="row-odd"><td><p>~/velocity_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to profiled velocity mode</p></td>
</tr>
<tr class="row-even"><td><p>~/torque_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to profiled torque mode</p></td>
</tr>
<tr class="row-odd"><td><p>~/cyclic_position_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to cyclic position mode</p></td>
</tr>
<tr class="row-even"><td><p>~/cyclic_velocity_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to cyclic velocity mode</p></td>
</tr>
<tr class="row-odd"><td><p>~/interpolated_position_mode</p></td>
<td><p>Trigger</p></td>
<td><p>Switches to interpolated position mode, only linear mode with fixed time is supported</p></td>
</tr>
<tr class="row-even"><td><p>~/target</p></td>
<td><p>CODouble</p></td>
<td><p>Sets the target value. Only accepted when an operation mode is set.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="publishers">
<h2>Publishers<a class="headerlink" href="#publishers" title="Link to this heading"></a></h2>
<table class="docutils align-left">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Publishers</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>~/joint_states</p></td>
<td><p>sensor_msgs/msg/JointState</p></td>
<td><p>Joint states of the drive</p></td>
</tr>
<tr class="row-odd"><td><p>~/nmt_state</p></td>
<td><p>String</p></td>
<td><p>Publishes NMT state on change</p></td>
</tr>
<tr class="row-even"><td><p>~/rpdo</p></td>
<td><p>COData</p></td>
<td><p>Publishes received PDO objects on reception</p></td>
</tr>
</tbody>
</table>
</section>
<section id="subscribers">
<h2>Subscribers<a class="headerlink" href="#subscribers" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Topic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>~/target</p></td>
<td><p>COTargetDouble</p></td>
<td><p>Sets target value.</p></td>
</tr>
<tr class="row-odd"><td><p>~/tpdo</p></td>
<td><p>COData</p></td>
<td><p>Writes received data to remote device if the specified object is RPDO mapped on remote device.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="bus-configuration-parameters">
<h2>Bus Configuration Parameters<a class="headerlink" href="#bus-configuration-parameters" title="Link to this heading"></a></h2>
<p>Additional parameters that can be used in bus.yml for this driver.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>polling</p></td>
<td><p>bool</p></td>
<td><p>Enables polling of the drive status. Default: true. If false, period will be used to run a ros2 timer as update loop. If true, the update loop will be triggered by the sync signal and directly executed in the canopen realtime loop. This requires all data processed in the update loop to be PDO, otherwise the loop will get stuck. This can speed reduce processor load significantly though.</p></td>
</tr>
<tr class="row-odd"><td><p>period</p></td>
<td><p>Milliseconds</p></td>
<td><p>Refresh period for 402 state machine. Should be similar to sync period of master.</p></td>
</tr>
<tr class="row-even"><td><p>switching_state</p></td>
<td><p>see below</p></td>
<td><p>The state to switch the operation mode in.</p></td>
</tr>
<tr class="row-odd"><td><p>scale_pos_to_dev</p></td>
<td><p>double</p></td>
<td><p>Scaling factor to convert from SI units to device units for position.</p></td>
</tr>
<tr class="row-even"><td><p>scale_vel_to_dev</p></td>
<td><p>double</p></td>
<td><p>Scaling factor to convert from SI units to device units for velocity.</p></td>
</tr>
<tr class="row-odd"><td><p>scale_pos_from_dev</p></td>
<td><p>double</p></td>
<td><p>Scaling factor to convert from device units to SI units for position.</p></td>
</tr>
<tr class="row-even"><td><p>scale_vel_from_dev</p></td>
<td><p>double</p></td>
<td><p>Scaling factor to convert from device units to SI units for velocity.</p></td>
</tr>
<tr class="row-odd"><td><p>position_mode</p></td>
<td><p>int</p></td>
<td><p>The drives operation mode to use for the position interface</p></td>
</tr>
<tr class="row-even"><td><p>velocity_mode</p></td>
<td><p>int</p></td>
<td><p>The drives operation mode to use for the velocity interface</p></td>
</tr>
<tr class="row-odd"><td><p>torque_mode</p></td>
<td><p>int</p></td>
<td><p>The drives operation mode to use for the torque interface</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="proxy-driver.html" class="btn btn-neutral float-left" title="Proxy Driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="how-to-create-a-configuration.html" class="btn btn-neutral float-right" title="How to create a configuration package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Christoph Hellmann Santos,  Harshavardhan Deshpande.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>