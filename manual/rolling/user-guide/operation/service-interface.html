<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Service Interface &mdash; ros2_canopen 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=efd85694" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ros2_canopen
              <img src="../../_static/ros2-canopen-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/operation.html">Setup CAN Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/examples.html">Running Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operation.html">Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html#bus-configuration-file">Bus Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html#configuration-package-cmake">Configuration Package CMake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../master.html">Master Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proxy-driver.html">Proxy Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cia402-driver.html">Cia402 Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to-create-a-configuration.html">How to create a configuration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to-create-a-cia301-system.html">How to create a cia301 system with ros2_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to-create-a-robot-system.html">How to create a robot system with ros2_control</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developers-guide/design-objectives.html">Design Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers-guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers-guide/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers-guide/new-driver.html">Creating a new device driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers-guide/new-master.html">Creating a new master</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ros-industrial.github.io/ros2_canopen/api/">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../software-tests/proxy-driver-test.html">Lifecycle Proxy Driver Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software-tests/proxy-driver-test.html#proxy-driver-test">Proxy Driver Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software-tests/ros2_control_system-test.html">ros2_control SystemInterface test</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application Demos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../application/prbt_robot.html">Pilz manipulator PRBT 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/trinamic.html">Trinamic Stepper Motor control</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ros2_canopen</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Service Interface</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/operation/service-interface.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="service-interface">
<h1>Service Interface<a class="headerlink" href="#service-interface" title="Link to this heading"></a></h1>
<section id="device-container">
<h2>Device Container<a class="headerlink" href="#device-container" title="Link to this heading"></a></h2>
<p>The device container implements ROS2 component manager. The load and unload services are disabled.
Devices are loaded based on the Bus Configuration File (bus.yml). It provides the list service though.</p>
<figure class="align-default" id="id1">
<img alt="Device Manager Concept" src="../../_images/device-manager.png" />
<figcaption>
<p><span class="caption-text">device manager concept</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The device manager uses the bus description file to identify the correct drivers for each devices.
On launch it will load the CANopen master node and pass the generated DCF files to configure the CANopen master
correctly for you bus configuration. It will the enable the master. Once the master is enabled it will
sequentially load and enable all drivers in the bus configuration.</p>
<p>Once a CANopen Node comes online (i.e. sends the boot indication) the CANopen master
will configure the node with the parameters and commands specified in the bus configuration for that device.
When the configuration of the device is done, all data send by the device is forwarded
to the appropriate driver.</p>
<p>All loaded nodes are added to the device manager’s executor.</p>
<figure class="align-default" id="id2">
<img alt="Device Manager Usage" src="../../_images/device-manager-usage.png" />
<figcaption>
<p><span class="caption-text">device manager usage</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="bus-configuration">
<h2>Bus Configuration<a class="headerlink" href="#bus-configuration" title="Link to this heading"></a></h2>
<p>The bus configuration for the needs to use the driver classes that are marked as
non lifecycle drivers.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Available Driver Components</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Component</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>canopen_core</p></td>
<td><p>ros2_canopen::MasterDriver</p></td>
</tr>
<tr class="row-odd"><td><p>canopen_proxy_driver</p></td>
<td><p>ros2_canopen::ProxyDriver</p></td>
</tr>
<tr class="row-even"><td><p>canopen_402_driver</p></td>
<td><p>ros2_canopen::Cia402Driver</p></td>
</tr>
</tbody>
</table>
</section>
<section id="launching">
<h2>Launching<a class="headerlink" href="#launching" title="Link to this heading"></a></h2>
<p>The device manager has the following configuration parameters.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Parameters</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bus_conf</p></td>
<td><p>string</p></td>
<td><p>(Mandatory) Path to the bus configuration YAML-file</p></td>
</tr>
<tr class="row-odd"><td><p>master_dcf</p></td>
<td><p>string</p></td>
<td><p>(Mandatory) Path to the DCF file to be used by the master node. Usually generated by dcfgen as master.dcf.</p></td>
</tr>
<tr class="row-even"><td><p>master_bin</p></td>
<td><p>string</p></td>
<td><p>(Optional) Path to the concise DCF (.bin) file to be used to configure the master. Usually generated by dcfgen as master.bin. (default: “”)</p></td>
</tr>
<tr class="row-odd"><td><p>can_interface_name</p></td>
<td><p>string</p></td>
<td><p>(Mandatory) Name of the CAN interface to be used. (default: vcan0)</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Christoph Hellmann Santos,  Harshavardhan Deshpande.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>